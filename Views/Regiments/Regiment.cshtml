@model WarOfRightsWeb.Data.Regiment

@{
    var regiment = Model;
    var regimentID = regiment.ID;
    var faction = regiment.Faction; //Extensions.RegimentFaction(regiment);
    var type = regiment.Type; //Extensions.RegimentType(regiment);
    var regimentName = regiment.Name; //Regiments.DisplayNames[regiment];
    var description = regiment.Description; // Regiments.Descriptions[regiment];

    ViewBag.Title = regimentName;
}

@section navigation {
    <nav id="companyToolHeaderContainer" class="worBorder" style="padding: 0px;">

        <ul style="margin: 0px; padding: 0px; height: 60px;">
            <li style="margin: 0px;">
                <div id="companyToolHeaderTextContainer">

                    <ul class="companyToolNavUl" style="width: 30%;">
                        <li>
                            <h1 class="text-center">
                                <a id="navUSARegiments" href="@Url.Action(Labels.USA, "Regiments")">USA</a>
                            </h1>
                        </li>
                    </ul>

                    <ul class="companyToolNavUl" style="width: 40%;">
                        <li>
                            <h1 class="text-center">
                                <a id="navAllRegiments" href="@Url.Action("Index", "Regiments")">All</a>
                            </h1>
                        </li>
                    </ul>

                    <ul class="companyToolNavUl" style="width: 30%;">
                        <li>
                            <h1 class="text-center">
                                <a id="navCSARegiments" href="@Url.Action(Labels.CSA, "Regiments")">CSA</a>
                            </h1>
                        </li>
                    </ul>

                </div>
            </li>
        </ul>

        <div class="fancyClearBoth">
        </div>

    </nav>
}

<h2 class="contentTitle" id="tabTitle">@regimentName</h2>

<div id="regimentDescription" class="fancyClearBoth">
    <p>@Html.Raw(description)</p>
</div>

<div class="fancyCenter text-center">

    @{
        string artilleryPrivate1 = null, artilleryPrivate2 = null, infantryPrivate = null, flagBearer = null;
        var nco = Url.RegimentImageOrDefault(faction, type, regimentID, Labels.NCO);
        var officer = Url.RegimentImageOrDefault(faction, type, regimentID, Labels.Officer);

        var defaultCss = "background-size: 250px 250px; background-position-y: -60px; background-position-x: -30px;";
        var flagCss = "background-size: contain; background-position-y: -2px;";
    }

    @if (type == RegimentType.Artillery)
    {
        artilleryPrivate1 = Url.RegimentImageOrDefault(faction, type, regimentID, Labels.ArtilleryPrivate1);
        artilleryPrivate2 = Url.RegimentImageOrDefault(faction, type, regimentID, Labels.ArtilleryPrivate1);
    }
    else
    {
        infantryPrivate = Url.RegimentImageOrDefault(faction, type, regimentID, Labels.Private);
        flagBearer = Url.RegimentImageOrDefault(faction, type, regimentID, Labels.FlagBearer);
    }


    @if (artilleryPrivate1 != null)
    {
        <a href="@artilleryPrivate1" target="_blank" class="imageContainer">
            <div style="background: url('@artilleryPrivate1'); @defaultCss" class="worTightBorder"></div>
            <span>Artillery Private</span>
        </a>
    }

    @if (artilleryPrivate2 != null)
    {
        <a href="@artilleryPrivate2" target="_blank" class="imageContainer">
            <div style="background: url('@artilleryPrivate2'); @defaultCss" class="worTightBorder"></div>
            <span>Artillery Private</span>
        </a>
    }

    @if (infantryPrivate != null)
    {
        <a href="@infantryPrivate" target="_blank" class="imageContainer">
            <div style="background: url('@infantryPrivate'); @defaultCss" class="worTightBorder"></div>
            <span>Private</span>
        </a>
    }

    @if (flagBearer != null)
    {
        <a href="@flagBearer" target="_blank" class="imageContainer">
            <div style="background: url('@flagBearer'); @flagCss" class="worTightBorder"></div>
            <span>Flag Bearer</span>
        </a>
    }

    <a href="@nco" target="_blank" class="imageContainer">
        <div style="background: url('@nco'); @defaultCss" class="worTightBorder"></div>
        <span>NCO</span>
    </a>

    <a href="@officer" target="_blank" class="imageContainer">
        <div style="background: url('@officer'); @defaultCss" class="worTightBorder">
        </div>
        <span>Officer</span>
    </a>

</div>

<div class="fancyClearBoth"></div>

@section scripts {
    <script>
        $(document).ready(function () {
            $("#nav" + "@faction" + "Regiments").addClass('active');
        })
    </script>
}